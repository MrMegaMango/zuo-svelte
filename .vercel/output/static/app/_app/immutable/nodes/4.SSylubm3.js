var St=t=>{throw TypeError(t)};var Mt=(t,e,r)=>e.has(t)||St("Cannot "+r);var ft=(t,e,r)=>(Mt(t,e,"read from private field"),r?r.call(t):e.get(t)),vt=(t,e,r)=>e.has(t)?St("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),mt=(t,e,r,a)=>(Mt(t,e,"write to private field"),a?a.call(t,r):e.set(t,r),r);import{t as C,a as y,d as st,c as Et}from"../chunks/BhIy6N6e.js";import{e as me,u as te,b as ee,l as pe,aK as be,o as Lt,ao as lt,aL as ge,k as i,T as ye,aH as he,p as _e,aG as we,h as xe,s as H,f as X,t as R,a as ke,a4 as je,c as O,m as w,aM as Ae,r as S}from"../chunks/OCvk_b1L.js";import{s as Y}from"../chunks/DTsu6dRg.js";import{i as I}from"../chunks/Dm4ZGYXq.js";import{e as nt,i as Wt}from"../chunks/C7ZtyHhz.js";import{h as Pe}from"../chunks/BNqjdZ_7.js";import{s as it,r as ze,a as Ut}from"../chunks/BUa8iJmo.js";import{o as Se,d as Me,e as Ee}from"../chunks/ix9Nyvcl.js";import{p as Le,a as wt}from"../chunks/BNkdMAJn.js";import{i as We,a as Ue,b as He,c as Te}from"../chunks/RyhAlbCv.js";import{b as Ht}from"../chunks/DEKD-Z9P.js";function Tt(t,e,r){me(()=>{var a=te(()=>e(t,r==null?void 0:r())||{});if(r&&(a!=null&&a.update)){var n=!1,d={};ee(()=>{var c=r();pe(c),n&&be(d,c)&&(d=c,a.update(c))}),n=!0}if(a!=null&&a.destroy)return()=>a.destroy()})}function ae(t){var e,r,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(r=ae(t[e]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r);return a}function Ce(){for(var t,e,r=0,a="",n=arguments.length;r<n;r++)(t=arguments[r])&&(e=ae(t))&&(a&&(a+=" "),a+=e);return a}function Ne(t){return typeof t=="object"?Ce(t):t??""}const Ct=[...` 	
\r\fÂ \v\uFEFF`];function Oe(t,e,r){var a=t==null?"":""+t;if(e&&(a=a?a+" "+e:e),r){for(var n in r)if(r[n])a=a?a+" "+n:n;else if(a.length)for(var d=n.length,c=0;(c=a.indexOf(n,c))>=0;){var u=c+d;(c===0||Ct.includes(a[c-1]))&&(u===a.length||Ct.includes(a[u]))?a=(c===0?"":a.substring(0,c))+a.substring(u+1):c=u}}return a===""?null:a}function Z(t,e,r,a,n,d){var c=t.__className;if(Lt||c!==r){var u=Oe(r,a,d);(!Lt||u!==t.getAttribute("class"))&&(u==null?t.removeAttribute("class"):t.className=u),t.__className=r}else if(d){n??(n={});for(var p in d){var M=!!d[p];M!==!!n[p]&&t.classList.toggle(p,M)}}return d}function Fe(t){lt(t,t.v+1)}function De(t){let e=0,r=ye(0),a;return()=>{ge()&&(i(r),ee(()=>(e===0&&(a=te(()=>t(()=>Fe(r)))),e+=1,()=>{he().then(()=>{e-=1,e===0&&(a==null||a(),a=void 0)})})))}}var tt,et;class qe{constructor(e,r){vt(this,tt);vt(this,et);mt(this,tt,e),mt(this,et,De(r))}get current(){return ft(this,et).call(this),ft(this,tt).call(this)}}tt=new WeakMap,et=new WeakMap;const Je=/\(.+\)/;class Ke extends qe{constructor(e,r){let a=Je.test(e)?e:`(${e})`;const n=window.matchMedia(a);super(()=>n.matches,d=>Se(n,"change",d))}}const Re=!1,_a=Object.freeze(Object.defineProperty({__proto__:null,prerender:Re},Symbol.toStringTag,{value:"Module"}));function Be(t){const e=JSON.parse(t);return e.data&&(e.data=He(e.data,Te.decoders)),e}function pt(t){return HTMLElement.prototype.cloneNode.call(t)}function bt(t,e=()=>{}){const r=async({action:n,result:d,reset:c=!0,invalidateAll:u=!0})=>{d.type==="success"&&(c&&HTMLFormElement.prototype.reset.call(t),u&&await We()),(location.origin+location.pathname===n.origin+n.pathname||d.type==="redirect"||d.type==="error")&&await Ue(d)};async function a(n){var W,q,U,J,f;if(((W=n.submitter)!=null&&W.hasAttribute("formmethod")?n.submitter.formMethod:pt(t).method)!=="post")return;n.preventDefault();const c=new URL((q=n.submitter)!=null&&q.hasAttribute("formaction")?n.submitter.formAction:pt(t).action),u=(U=n.submitter)!=null&&U.hasAttribute("formenctype")?n.submitter.formEnctype:pt(t).enctype,p=new FormData(t),M=(J=n.submitter)==null?void 0:J.getAttribute("name");M&&p.append(M,((f=n.submitter)==null?void 0:f.getAttribute("value"))??"");const D=new AbortController;let F=!1;const k=await e({action:c,cancel:()=>F=!0,controller:D,formData:p,formElement:t,submitter:n.submitter})??r;if(F)return;let j;try{const l=new Headers({accept:"application/json","x-sveltekit-action":"true"});u!=="multipart/form-data"&&l.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(u)?u:"application/x-www-form-urlencoded");const A=u==="multipart/form-data"?p:new URLSearchParams(p),x=await fetch(c,{method:"POST",headers:l,cache:"no-store",body:A,signal:D.signal});j=Be(await x.text()),j.type==="error"&&(j.status=x.status)}catch(l){if((l==null?void 0:l.name)==="AbortError")return;j={type:"error",error:l}}await k({action:c,formData:p,formElement:t,update:l=>r({action:c,result:j,reset:l==null?void 0:l.reset,invalidateAll:l==null?void 0:l.invalidateAll}),result:j})}return HTMLFormElement.prototype.addEventListener.call(t,"submit",a),{destroy(){HTMLFormElement.prototype.removeEventListener.call(t,"submit",a)}}}var Nt="mz3PUW_p",Ot=["#FFC700","#FF0000","#2E3191","#41BBC7"],Ft=3500,Dt=.5,qt=150,Jt="mix",Kt=12,Rt="",Bt=!0,Gt=800,It=1600;function gt(t,e={}){let{colors:r=Ot,duration:a=Ft,force:n=Dt,particleCount:d=qt,particleShape:c=Jt,particleSize:u=Kt,particleClass:p=Rt,destroyAfterDone:M=Bt,stageHeight:D=Gt,stageWidth:F=It}=e;(function(f){if(document.querySelector("style[data-neoconfetti]"))return;const l=yt("style");l.dataset.neoconfetti="",l.textContent=f,ht(document.head,l)})('@keyframes mz3PUW_ya{to{translate:0 var(--sh)}}@keyframes mz3PUW_xa{to{translate:var(--xlp)0}}@keyframes mz3PUW_r{50%{rotate:var(--hr)180deg}to{rotate:var(--r)360deg}}.mz3PUW_c{z-index:1200;width:0;height:0;position:relative;overflow:visible}.mz3PUW_p{animation:xa var(--dc)forwards cubic-bezier(var(--x1),var(--x2),var(--x3),var(--x4));animation-name:mz3PUW_xa}.mz3PUW_p>div{animation:ya var(--dc)forwards cubic-bezier(var(--y1),var(--y2),var(--y3),var(--y4));width:var(--w);height:var(--h);animation-name:mz3PUW_ya;position:absolute;top:0;left:0}.mz3PUW_p>div:before{content:"";background-color:var(--bgc);animation:r var(--rd)infinite linear;border-radius:var(--br);width:100%;height:100%;animation-name:mz3PUW_r;display:block}'),t.classList.add("mz3PUW_c"),t.style.setProperty("--sh",D+"px");let N=[],k=[];const j=()=>$(T()*(Xe-1)),W=(f,l)=>c!=="rectangles"&&(f==="circles"||Ye(l));function q(f,l){const A=j(),x=W(c,A),s=(m,h)=>f.style.setProperty(m,h+"");s("--xlp",_t(ot(Yt(l,90)-180),0,180,-F/2,F/2)+"px"),s("--dc",a-$(1e3*T())+"ms");const o=T()<Ie?Q(T()*Qe,2):0;s("--x1",o),s("--x2",-1*o),s("--x3",o),s("--x4",Q(ot(_t(ot(Yt(l,90)-180),0,180,-1,1)),4)),s("--y1",Q(T()*Vt,4)),s("--y2",Q(T()*n*(re()?1:-1),4)),s("--y3",Vt),s("--y4",Q(Ve(_t(ot(l-180),0,180,n,-n),0),4)),s("--w",(x?u:$(4*T())+u/2)+"px"),s("--h",(x?u:$(2*T())+u)+"px");const v=A.toString(2).padStart(3,"0").split("");s("--hr",v.map(m=>+m/2+"").join(" ")),s("--r",v.join(" ")),s("--rd",Q(T()*(Ge-Qt)+Qt)+"ms"),s("--br",x?"50%":0)}let U;function J(){t.innerHTML="",clearTimeout(U),N=Xt(d,r),k=function(f,l=[],A){const x=[];for(const{color:s}of l){const o=yt("div");o.className=`${Nt} ${A}`,o.style.setProperty("--bgc",s);const v=yt("div");ht(o,v),ht(f,o),x.push(o)}return x}(t,N,p);for(const[f,l]of Zt(k))q(l,N[+f].degree);U=setTimeout(()=>{M&&(t.innerHTML="")},a)}return J(),{update(f){const l=f.particleCount??qt,A=f.particleShape??Jt,x=f.particleSize??Kt,s=f.particleClass??Rt,o=f.colors??Ot,v=f.stageHeight??Gt,m=f.duration??Ft,h=f.force??Dt,_=f.stageWidth??It,b=f.destroyAfterDone??Bt;N=Xt(l,o);let E=!1;if(l===d){k=Array.from(t.querySelectorAll(`.${Nt}`));for(const[L,{color:K}]of Zt(N)){const g=k[+L];JSON.stringify(r)!==JSON.stringify(o)&&g.style.setProperty("--bgc",K),A!==c&&g.style.setProperty("--br",W(A,j())?"50%":"0"),s!==p&&(p&&g.classList.remove(p),s&&g.classList.add(s))}}else E=!0;M&&!b&&clearTimeout(U),t.style.setProperty("--sh",v+"px"),a=m,r=o,n=h,d=l,c=A,u=x,p=s,M=b,D=v,F=_,E&&J()},destroy(){t.innerHTML="",clearTimeout(U)}}}var Qt=200,Ge=800,Ie=.1,Qe=.3,Vt=.5,ot=Math.abs,T=Math.random,$=Math.round,Ve=Math.max,yt=t=>document.createElement(t),ht=(t,e)=>t.appendChild(e),Xt=(t,e)=>Array.from({length:t},(r,a)=>({color:e[a%e.length],degree:360*a/t})),Q=(t,e=2)=>$((t+Number.EPSILON)*10**e)/10**e,_t=(t,e,r,a,n)=>(t-e)*(n-a)/(r-e)+a,Yt=(t,e)=>t+e>360?t+e-360:t+e,re=()=>T()>.5,Zt=Object.entries,Xe=6,Ye=t=>t!==1&&re();function $t(t,e,r){var n;t.preventDefault();const a=t.target.getAttribute("data-key");a==="backspace"?(lt(e,wt(i(e).slice(0,-1))),(n=r())!=null&&n.badGuess&&r(r().badGuess=!1,!0)):i(e).length<5&&lt(e,i(e)+a)}var Ze=C('<meta name="description" content="A Wordle clone written in SvelteKit" class="svelte-1pg2j5l">'),$e=C('<div> <span class="visually-hidden svelte-1pg2j5l"><!></span> <input name="guess" type="hidden" class="svelte-1pg2j5l"></div>'),ta=C('<h2 class="visually-hidden svelte-1pg2j5l"> </h2> <div></div>',1),ea=C('<p class="svelte-1pg2j5l"> </p>'),aa=C('<!> <button data-key="enter" class="restart selected svelte-1pg2j5l" formaction="?/restart"> </button>',1),ra=C('<button formaction="?/update" name="key"> </button>'),sa=C('<div class="row svelte-1pg2j5l"></div>'),na=C('<div class="keyboard svelte-1pg2j5l"><button data-key="enter">enter</button> <button data-key="backspace" formaction="?/update" name="key" value="backspace" class="svelte-1pg2j5l">back</button> <!></div>'),ia=C('<div style="position: absolute; left: 50%; top: 30%" class="svelte-1pg2j5l"></div>'),oa=C('<h1 class="visually-hidden svelte-1pg2j5l">Sverdle</h1> <form method="post" class="svelte-1pg2j5l"><a class="how-to-play svelte-1pg2j5l">How to play</a> <div></div> <div class="controls svelte-1pg2j5l"><!></div></form> <!>',1);function wa(t,e){_e(e,!0);let r=Le(e,"form",15);const a=new Ke("(prefers-reduced-motion: reduce)");let n=w(()=>e.data.answers.at(-1)==="xxxxx"),d=w(()=>i(n)?-1:e.data.answers.length),c=we(wt(e.data.guesses[i(d)]||""));xe(()=>{lt(c,wt(e.data.guesses[i(d)]||""))});let u=w(()=>i(c).length===5);const p=w(()=>{let s={},o={};return e.data.answers.forEach((v,m)=>{const h=e.data.guesses[m];for(let _=0;_<5;_+=1){const b=h[_];v[_]==="x"?(s[b]="exact",o[b]="correct"):s[b]||(s[b]=v[_]==="c"?"close":"missing",o[b]=v[_]==="c"?"present":"absent")}}),{classnames:s,description:o}}),M=w(()=>i(p).classnames),D=w(()=>i(p).description);function F(s){var o;s.metaKey||s.key==="Enter"&&!i(u)||(o=document.querySelector(`[data-key="${s.key}" i]`))==null||o.dispatchEvent(new MouseEvent("click",{cancelable:!0,bubbles:!0}))}var N=oa();Ee("keydown",Ae,F),Pe(s=>{var o=Ze();je.title="Sverdle",y(s,o)});var k=H(X(N),2);it(k,"action",`${Ht??""}/sverdle?/enter`);var j=O(k);it(j,"href",`${Ht??""}/sverdle/how-to-play`);var W=H(j,2);let q;nt(W,20,()=>Array.from(Array(6).keys()),s=>s,(s,o)=>{var v=ta();const m=w(()=>o===i(d));var h=X(v),_=O(h);S(h);var b=H(h,2);let E;nt(b,20,()=>Array.from(Array(5).keys()),L=>L,(L,K)=>{var g=$e();const P=w(()=>i(m)?i(c):e.data.guesses[o]),V=w(()=>{var z;return(z=e.data.answers[o])==null?void 0:z[K]}),xt=w(()=>{var z;return((z=i(P))==null?void 0:z[K])??""}),se=w(()=>i(m)&&K===i(P).length),kt=w(()=>i(V)==="x"),jt=w(()=>i(V)==="c"),At=w(()=>i(V)==="_");let Pt;var zt=O(g),ct=H(zt),ne=O(ct);{var ie=z=>{var at=st("(correct)");y(z,at)},oe=z=>{var at=Et(),le=X(at);{var ce=B=>{var rt=st("(present)");y(B,rt)},de=B=>{var rt=Et(),ue=X(rt);{var fe=G=>{var ut=st("(absent)");y(G,ut)},ve=G=>{var ut=st("empty");y(G,ut)};I(ue,G=>{i(At)?G(fe):G(ve,!1)},!0)}y(B,rt)};I(le,B=>{i(jt)?B(ce):B(de,!1)},!0)}y(z,at)};I(ne,z=>{i(kt)?z(ie):z(oe,!1)})}S(ct);var dt=H(ct,2);ze(dt),S(g),R(()=>{Pt=Z(g,1,"letter svelte-1pg2j5l",null,Pt,{exact:i(kt),close:i(jt),missing:i(At),selected:i(se)}),Y(zt,`${i(xt)??""} `),dt.disabled=!i(m),Ut(dt,i(xt))}),y(L,g)}),S(b),R(()=>{Y(_,`Row ${o+1}`),E=Z(b,1,"row svelte-1pg2j5l",null,E,{current:i(m)})}),y(s,v)}),S(W);var U=H(W,2),J=O(U);{var f=s=>{var o=aa(),v=X(o);{var m=b=>{var E=ea(),L=O(E);S(E),R(()=>Y(L,`the answer was "${e.data.answer??""}"`)),y(b,E)};I(v,b=>{!i(n)&&e.data.answer&&b(m)})}var h=H(v,2),_=O(h);S(h),R(()=>Y(_,`${(i(n)?"you won :)":"game over :(")??""} play again?`)),y(s,o)},l=s=>{var o=na(),v=O(o);let m;var h=H(v,2);h.__click=[$t,c,r];var _=H(h,2);nt(_,16,()=>["qwertyuiop","asdfghjkl","zxcvbnm"],Wt,(b,E)=>{var L=sa();nt(L,21,()=>E,Wt,(K,g)=>{var P=ra();P.__click=[$t,c,r];var V=O(P,!0);S(P),R(()=>{it(P,"data-key",i(g)),Z(P,1,Ne(i(M)[i(g)]),"svelte-1pg2j5l"),P.disabled=i(u),Ut(P,i(g)),it(P,"aria-label",`${i(g)??""} ${i(D)[i(g)]||""}`),Y(V,i(g))}),y(K,P)}),S(L),y(b,L)}),S(o),R(()=>{v.disabled=!i(u),m=Z(v,1,"svelte-1pg2j5l",null,m,{selected:i(u)})}),y(s,o)};I(J,s=>{i(n)||e.data.answers.length>=6?s(f):s(l,!1)})}S(U),S(k),Tt(k,(s,o)=>bt==null?void 0:bt(s,o),()=>()=>({update:s})=>{s({reset:!1})});var A=H(k,2);{var x=s=>{var o=ia();Tt(o,(v,m)=>gt==null?void 0:gt(v,m),()=>({particleCount:a.current?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})),y(s,o)};I(A,s=>{i(n)&&s(x)})}R(()=>{var s;return q=Z(W,1,"grid svelte-1pg2j5l",null,q,{playing:!i(n),"bad-guess":(s=r())==null?void 0:s.badGuess})}),y(t,N),ke()}Me(["click"]);export{wa as component,_a as universal};
